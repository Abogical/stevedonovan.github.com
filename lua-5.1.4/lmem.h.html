<html>
<head>
<link rel='stylesheet' type='text/css' href='style.css'></link>
<body>
<h1>Lua 5.1.4: lmem.h</h1>
<hr/>
<pre>
L0001    <span class="comment">/*
L0002    ** $Id: lmem.h,v 1.31.1.1 2007/12/27 13:02:25 roberto Exp $
L0003    ** Interface to Memory Manager
L0004    ** See Copyright Notice in lua.h
L0005    */</span>
L0006    
L0007    <span class="prepro">#ifndef lmem_h
</span>L0008    <a name="lmem_h"/a><span class="prepro">#define lmem_h
</span>L0009    
L0010    
L0011    <span class="prepro">#include &lt;stddef.h&gt;
</span>L0012    
L0013    <span class="prepro"><a class="L" href="llimits.h.html#">#include "llimits.h"
</a></span>L0014    <span class="prepro"><a class="L" href="lua.h.html#">#include "lua.h"
</a></span>L0015    
L0016    <a name="MEMERRMSG"/a><span class="prepro">#define MEMERRMSG	"not enough memory"
</span>L0017    
L0018    
L0019    <a name="luaM_reallocv"/a><span class="prepro">#define luaM_reallocv(L,b,on,n,e) \
L0020    	((cast(size_t, (n)+1) &lt;= MAX_SIZET/(e)) ?  /* +1 to avoid warnings */ \
L0021    		luaM_realloc_(L, (b), (on)*(e), (n)*(e)) : \
L0022    		luaM_toobig(L))
</span>L0023    
L0024    <a name="luaM_freemem"/a><span class="prepro">#define luaM_freemem(L, b, s)	luaM_realloc_(L, (b), (s), 0)
</span>L0025    <a name="luaM_free"/a><span class="prepro">#define luaM_free(L, b)		luaM_realloc_(L, (b), sizeof(*(b)), 0)
</span>L0026    <a name="luaM_freearray"/a><span class="prepro">#define luaM_freearray(L, b, n, t)   luaM_reallocv(L, (b), n, 0, sizeof(t))
</span>L0027    
L0028    <a name="luaM_malloc"/a><span class="prepro">#define luaM_malloc(L,t)	luaM_realloc_(L, NULL, 0, (t))
</span>L0029    <a name="luaM_new"/a><span class="prepro">#define luaM_new(L,t)		cast(t *, luaM_malloc(L, sizeof(t)))
</span>L0030    <a name="luaM_newvector"/a><span class="prepro">#define luaM_newvector(L,n,t) \
L0031    		cast(t *, luaM_reallocv(L, NULL, 0, n, sizeof(t)))
</span>L0032    
L0033    <a name="luaM_growvector"/a><span class="prepro">#define luaM_growvector(L,v,nelems,size,t,limit,e) \
L0034              if ((nelems)+1 &gt; (size)) \
L0035                ((v)=cast(t *, luaM_growaux_(L,v,&amp;(size),sizeof(t),limit,e)))
</span>L0036    
L0037    <a name="luaM_reallocvector"/a><span class="prepro">#define luaM_reallocvector(L, v,oldn,n,t) \
L0038       ((v)=cast(t *, luaM_reallocv(L, v, oldn, n, sizeof(t))))
</span>L0039    
L0040    
L0041    <a class="L" href="luaconf.h.html#LUAI_FUNC">LUAI_FUNC</a> <span class="keyword">void</span> *<a class="L" href="lmem.c.html#luaM_realloc_">luaM_realloc_</a> (<a class="L" href="lstate.h.html#lua_State">lua_State</a> *L, <span class="keyword">void</span> *<a class="L" href="lparser.c.html#block">block</a>, size_t oldsize,
L0042                                                              size_t size);
L0043    <a class="L" href="luaconf.h.html#LUAI_FUNC">LUAI_FUNC</a> <span class="keyword">void</span> *<a class="L" href="lmem.c.html#luaM_toobig">luaM_toobig</a> (<a class="L" href="lstate.h.html#lua_State">lua_State</a> *L);
L0044    <a class="L" href="luaconf.h.html#LUAI_FUNC">LUAI_FUNC</a> <span class="keyword">void</span> *<a class="L" href="lmem.c.html#luaM_growaux_">luaM_growaux_</a> (<a class="L" href="lstate.h.html#lua_State">lua_State</a> *L, <span class="keyword">void</span> *<a class="L" href="lparser.c.html#block">block</a>, <span class="keyword">int</span> *size,
L0045                                   size_t size_elem, <span class="keyword">int</span> limit,
L0046                                   <span class="keyword">const</span> <span class="keyword">char</span> *errormsg);
L0047    
L0048    <span class="prepro">#endif
</span>L0049    
</pre>
<hr/>
Generated by <a href="pretty.lua.html">pretty.lua</html>
</body></html>
