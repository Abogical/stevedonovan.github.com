<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>llua</h1>




<h2>Examples</h2>
<ul class="$(kind=='Topics' and '' or 'nowrap'">
  <li><a href="../examples/test-llua.c.html">test-llua.c</a></li>
  <li><strong>strfind.c</strong></li>
  <li><a href="../examples/file-size.c.html">file-size.c</a></li>
  <li><a href="../examples/errors.c.html">errors.c</a></li>
</ul>
<h2>Modules</h2>
<ul class="$(kind=='Topics' and '' or 'nowrap'">
  <li><a href="../index.html">llua</a></li>
</ul>
<h2>Topics</h2>
<ul class="$(kind=='Topics' and '' or 'nowrap'">
  <li><a href="../topics/readme.md.html">readme</a></li>
</ul>

</div>

<div id="content">

    <pre>
#include &lt;stdio.h&gt;
#include &lt;llua.h&gt;

<span class="keyword">int</span> main (<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)
{
    lua_State *L = luaL_newstate();
    luaL_openlibs(L);

    llua_t *G = llua_global(L);
    llua_t *strfind = llua_gets(G,<span class="string">"string.find"</span>);
    printf(<span class="string">"start %d\n"</span>,lua_gettop(L));

    <span class="keyword">int</span> i1,i2;
    llua_callf(strfind,<span class="string">"ssi"</span>,<span class="string">"hello dolly"</span>,<span class="string">"doll"</span>,<span class="number">1</span>,<span class="string">"ii"</span>,&amp;i1,&amp;i2);

    printf(<span class="string">"i1 %d i2 %d\n"</span>,i1,i2);

    <span class="comment">// global keys beginning with 's'.
</span>    <span class="comment">// note 'v' for 'push value at index'
</span>    <span class="comment">// &lt;any&gt; -&gt; &lt;int&gt; conversions are tolerant, so you get
</span>    <span class="comment">// zero if not an integer, e.g. when nil.  This fits
</span>    <span class="comment">// nicely with what C regards as true/false.
</span>    FOR_TABLE(G) {
        <span class="keyword">int</span> i;
        llua_callf(strfind,<span class="string">"vs"</span>,L_TKEY,<span class="string">"^s"</span>,<span class="string">"i"</span>,&amp;i);
        <span class="keyword">if</span> (i)
            printf(<span class="string">"match %s\n"</span>,lua_tostring(L,L_TKEY));
    }

    lua_close(L);
}</pre>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.2</a></i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
